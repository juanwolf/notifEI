package model;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.EntityTransaction;
import javax.persistence.Persistence;

public class TestSelect {
	
	public static void main(String[] argv) {
		EntityManagerFactory emf = Persistence.createEntityManagerFactory("jpaExtends");    
	    EntityManager em = emf.createEntityManager(); 
	    EntityTransaction transac = em.getTransaction();
	    transac.begin();
	    Patient patient = new Patient();
	    patient.setId(1);
	    patient.setLogin("auvraque");
	    patient.setPassword("21006257");
	    patient.setRole(Role.PATIENT);
	    patient.setNom("Auvray");
	    patient.setPrenom("Quentin");
	    em.persist(patient);
	    transac.commit();
	    
	    System.out.println("Insertion effectuée");
	    /*User user = em.find(User.class, 1);
	    if (user != null) {
	    	System.out.println("nom = "+ user.getNom() + " | prenom = " + user.getPrenom());
	    }*/
	    
	    em.close();
	    emf.close();
	}
}